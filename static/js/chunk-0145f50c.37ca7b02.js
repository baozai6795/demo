(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0145f50c"],{"5cf6":function(e,t,r){},"9c9d":function(e,t,r){"use strict";r("5cf6")},afa5:function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return l})),r.d(t,"e",(function(){return s})),r.d(t,"b",(function(){return i})),r.d(t,"d",(function(){return n}));var o=r("b775");function a(e){return Object(o["a"])({url:"/professer/pageList",method:"get",params:e})}function l(e){return Object(o["a"])({url:"/professer/add",method:"post",data:e})}function s(e){return Object(o["a"])({url:"/professer/update",method:"put",data:e})}function i(e){return Object(o["a"])({url:"/professer/deleteById?id="+e,method:"delete"})}function n(e){return Object(o["a"])({url:"/professerReview/historyList",method:"get",params:e})}},bc1d:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0}},[r("el-form-item",{attrs:{label:"专家姓名",prop:"professerName"}},[r("el-input",{attrs:{placeholder:"请输入专家姓名",clearable:""},on:{input:e.inputChange},model:{value:e.queryParams.professerName,callback:function(t){e.$set(e.queryParams,"professerName",t)},expression:"queryParams.professerName"}})],1),r("el-form-item",{attrs:{label:"专业方向",prop:"professerMajor"}},[r("el-input",{attrs:{placeholder:"请输入专业方向",clearable:""},on:{input:e.inputChange},model:{value:e.queryParams.professerMajor,callback:function(t){e.$set(e.queryParams,"professerMajor",t)},expression:"queryParams.professerMajor"}})],1),r("el-form-item",{attrs:{label:"职务",prop:"professerPost"}},[r("el-input",{attrs:{placeholder:"请输入职务",clearable:""},on:{input:e.inputChange},model:{value:e.queryParams.professerPost,callback:function(t){e.$set(e.queryParams,"professerPost",t)},expression:"queryParams.professerPost"}})],1),r("el-form-item",{attrs:{label:"职称",prop:"professerTitle"}},[r("el-input",{attrs:{placeholder:"请输入职称",clearable:""},on:{input:e.inputChange},model:{value:e.queryParams.professerTitle,callback:function(t){e.$set(e.queryParams,"professerTitle",t)},expression:"queryParams.professerTitle"}})],1),r("el-form-item",{attrs:{label:"总平均评分区间",prop:"minScoreAndMaxScore"}},[r("el-input",{staticClass:"score-style",attrs:{placeholder:"请输入最小值",clearable:""},on:{input:e.inputMinScoreChange},model:{value:e.queryParams.minScore,callback:function(t){e.$set(e.queryParams,"minScore",t)},expression:"queryParams.minScore"}}),e._v(" ~ "),r("el-input",{staticClass:"score-style",attrs:{placeholder:"请输入最大值",clearable:""},on:{input:e.inputMaxScoreChange},model:{value:e.queryParams.maxScore,callback:function(t){e.$set(e.queryParams,"maxScore",t)},expression:"queryParams.maxScore"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),r("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),r("el-row",{staticClass:"mb8",attrs:{gutter:10}},[r("el-col",{attrs:{span:1.5}},[r("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),r("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),e.refreshTable?r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.professorList}},[r("el-table-column",{attrs:{prop:"professerName",fixed:"left",label:"专家姓名",align:"center",width:"100","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{prop:"professerMajor",fixed:"left",label:"专业方向",align:"center",width:"150","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{prop:"professerCompany",label:"所属单位",align:"center",width:"150","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{prop:"professerPost",label:"职务",align:"center",width:"150","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{prop:"professerTitle",label:"职称",align:"center",width:"150","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{prop:"telPhone",label:"联系方式",align:"center",width:"150","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{prop:"email",label:"邮箱",align:"center",width:"150","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{prop:"bankCard",label:"银行卡号",align:"center",width:"150","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{prop:"depositBank",label:"开户行",align:"center",width:"150","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{prop:"avgMeetingCore",label:"评审会评述平均评分",align:"center",width:"100","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{prop:"avgOpinionsCore",label:"专家意见详实程度平均评分",align:"center",width:"100","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{prop:"avgSpeedCore",label:"沟通反馈速度平均评分",align:"center",width:"100","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{prop:"avgFeesCore",label:"是否催要专家费平均评分",align:"center",width:"100","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{prop:"avgTotalCore",label:"总平均评分",align:"center",width:"100","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{prop:"createBy",label:"创建人",align:"center",width:"100","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{prop:"createTime",label:"创建时间",align:"center",width:"180","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{prop:"updateBy",label:"修改人",align:"center",width:"100","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{prop:"updateTime",label:"修改时间",align:"center",width:"180","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{label:"操作",align:"center",fixed:"right",width:"220","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(r){return e.handleUpdate(t.row)}}},[e._v("修改")]),r("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(r){return e.handleDelete(t.row)}}},[e._v("删除")]),r("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(r){return e.viewEvaluate(t.row)}}},[e._v("查看参与项目")])]}}],null,!1,165585422)})],1):e._e(),r("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),r("el-dialog",{attrs:{title:e.title,visible:e.open,width:"680px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[r("el-form",{ref:"addForm",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"专家姓名",prop:"professerName"}},[r("el-input",{attrs:{placeholder:"请输入专家姓名"},model:{value:e.form.professerName,callback:function(t){e.$set(e.form,"professerName",t)},expression:"form.professerName"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"专业方向",prop:"professerMajor"}},[r("el-input",{attrs:{placeholder:"请输入专业方向"},model:{value:e.form.professerMajor,callback:function(t){e.$set(e.form,"professerMajor",t)},expression:"form.professerMajor"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"单位名称",prop:"professerCompany"}},[r("el-input",{attrs:{placeholder:"请输入单位名称"},model:{value:e.form.professerCompany,callback:function(t){e.$set(e.form,"professerCompany",t)},expression:"form.professerCompany"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"职务",prop:"professerPost"}},[r("el-input",{attrs:{placeholder:"请输入职务"},model:{value:e.form.professerPost,callback:function(t){e.$set(e.form,"professerPost",t)},expression:"form.professerPost"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"职称",prop:"professerTitle"}},[r("el-input",{attrs:{placeholder:"请输入职称"},model:{value:e.form.professerTitle,callback:function(t){e.$set(e.form,"professerTitle",t)},expression:"form.professerTitle"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"联系方式",prop:"telPhone"}},[r("el-input",{attrs:{placeholder:"请输入联系方式"},model:{value:e.form.telPhone,callback:function(t){e.$set(e.form,"telPhone",t)},expression:"form.telPhone"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"银行卡号",prop:"bankCard"}},[r("el-input",{attrs:{placeholder:"请输入银行卡号"},model:{value:e.form.bankCard,callback:function(t){e.$set(e.form,"bankCard",t)},expression:"form.bankCard"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"开户行",prop:"depositBank"}},[r("el-input",{attrs:{placeholder:"请输入开户行"},model:{value:e.form.depositBank,callback:function(t){e.$set(e.form,"depositBank",t)},expression:"form.depositBank"}})],1)],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),r("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),r("el-dialog",{attrs:{title:e.title,visible:e.openJoinProject,width:"980px","append-to-body":""},on:{"update:visible":function(t){e.openJoinProject=t}}},[r("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showProjectsSearch,expression:"showProjectsSearch"}],ref:"queryProjectsParams",attrs:{model:e.queryProjectsParams,size:"small",inline:!0}},[r("el-form-item",{attrs:{label:"项目代码",prop:"projectCode"}},[r("el-input",{attrs:{placeholder:"请输入项目代码",clearable:""},on:{input:e.inputChange},model:{value:e.queryProjectsParams.projectCode,callback:function(t){e.$set(e.queryProjectsParams,"projectCode",t)},expression:"queryProjectsParams.projectCode"}})],1),r("el-form-item",{attrs:{label:"项目名称",prop:"projectName"}},[r("el-input",{attrs:{placeholder:"请输入项目名称",clearable:""},on:{input:e.inputChange},model:{value:e.queryProjectsParams.projectName,callback:function(t){e.$set(e.queryProjectsParams,"projectName",t)},expression:"queryProjectsParams.projectName"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleProjectsQuery}},[e._v("搜索")]),r("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetProjectsQuery}},[e._v("重置")])],1)],1),r("el-row",{staticClass:"mb8",attrs:{gutter:10}},[r("right-toolbar",{attrs:{showSearch:e.showProjectsSearch},on:{"update:showSearch":function(t){e.showProjectsSearch=t},"update:show-search":function(t){e.showProjectsSearch=t},queryTable:e.getProjectsList}})],1),e.refreshProjectsTable?r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingProjectsList,expression:"loadingProjectsList"}],attrs:{data:e.projectsList}},[r("el-table-column",{attrs:{prop:"projectCode",fixed:"left",label:"项目代码",align:"center",width:"120","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{prop:"projectName",fixed:"left",label:"项目名称",align:"center",width:"150","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{prop:"professerRole",label:"角色",align:"center",width:"100","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{prop:"meetingCore",label:"评审会评述评分",align:"center",width:"120","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-rate",{attrs:{disabled:"","show-score":"",max:3,"text-color":"#ff9900","score-template":"{value}"},model:{value:t.row.meetingCore,callback:function(r){e.$set(t.row,"meetingCore",r)},expression:"scope.row.meetingCore"}})]}}],null,!1,2149726898)}),r("el-table-column",{attrs:{prop:"opinionsCore",label:"专家意见详实程度评分",align:"center",width:"150","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-rate",{attrs:{disabled:"","show-score":"",max:4,"text-color":"#ff9900","score-template":"{value}"},model:{value:t.row.opinionsCore,callback:function(r){e.$set(t.row,"opinionsCore",r)},expression:"scope.row.opinionsCore"}})]}}],null,!1,1000905807)}),r("el-table-column",{attrs:{prop:"speedCore",label:"沟通反馈速度评分",align:"center",width:"130","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-rate",{attrs:{disabled:"","show-score":"",max:2,"text-color":"#ff9900","score-template":"{value}"},model:{value:t.row.speedCore,callback:function(r){e.$set(t.row,"speedCore",r)},expression:"scope.row.speedCore"}})]}}],null,!1,3385947277)}),r("el-table-column",{attrs:{prop:"feesCore",label:"是否催要专家费评分",align:"center",width:"150","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-rate",{attrs:{disabled:"","show-score":"",max:1,"text-color":"#ff9900","score-template":"{value}"},model:{value:t.row.feesCore,callback:function(r){e.$set(t.row,"feesCore",r)},expression:"scope.row.feesCore"}})]}}],null,!1,4067754364)}),r("el-table-column",{attrs:{prop:"totalCore",fixed:"right",label:"总评分",align:"center",width:"100","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.evaluate?r("span",[e._v(e._s(t.row.totalCore))]):r("span",[e._v("待评价")])]}}],null,!1,3971085349)}),r("el-table-column",{attrs:{prop:"evaluate",fixed:"right",label:"评价",align:"center",width:"100","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{prop:"createBy",width:"150",align:"center",label:"项目发起人","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"150",align:"center","show-overflow-tooltip":!0}})],1):e._e(),r("pagination",{directives:[{name:"show",rawName:"v-show",value:e.projectsTotal>0,expression:"projectsTotal>0"}],attrs:{total:e.projectsTotal,page:e.queryProjectsParams.pageNum,limit:e.queryProjectsParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryProjectsParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryProjectsParams,"pageSize",t)},pagination:e.getProjectsList}}),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.openJoinProject=!1}}},[e._v("关 闭")])],1)],1)],1)},a=[],l=(r("a9e3"),r("ac1f"),r("00b4"),r("afa5")),s={name:"ProfessorList",data:function(){return{loading:!0,showSearch:!0,professorList:[],total:0,title:"",open:!1,openJoinProject:!1,refreshTable:!0,queryParams:{pageNum:1,pageSize:10},form:{},rules:{professerName:[{required:!0,message:"专家姓名不能为空",trigger:"blur"}],telPhone:[{required:!0,validator:this.validatePhone,trigger:"blur"}],email:[{required:!0,validator:this.validateEmail,trigger:"blur"}],bankCard:[{required:!0,validator:this.validateAccCard,trigger:"blur"}]},queryProjectsParams:{pageNum:1,pageSize:10},showProjectsSearch:!0,loadingProjectsList:!1,refreshProjectsTable:!0,projectsList:[],projectsTotal:0}},created:function(){this.getList()},methods:{inputChange:function(e){this.$forceUpdate()},inputMinScoreChange:function(e){""===e||"0"==e||Number(e)||(this.$modal.msgError("请填写数字"),this.queryParams.minScore="")},inputMaxScoreChange:function(e){""===e||"0"==e||Number(e)||(this.$modal.msgError("请填写数字"),this.queryParams.maxScore="")},getList:function(){var e=this;this.loading=!0,Object(l["c"])(this.queryParams).then((function(t){e.professorList=t.rows,e.total=t.total,e.loading=!1}))},handleQuery:function(){this.queryParams.pageNum=1,this.queryParams.minScore&&this.queryParams.maxScore&&(this.queryParams.minScore=Number(this.queryParams.minScore),this.queryParams.maxScore=Number(this.queryParams.maxScore),this.queryParams.minScore>this.queryParams.maxScore)?this.$modal.msgError("区间最小值不可大于最大值"):this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.queryParams.minScore="",this.queryParams.maxScore="",this.handleQuery()},handleAdd:function(){this.open=!0,this.title="添加"},handleUpdate:function(e){this.reset(),this.title="修改",this.form=e,this.open=!0},submitForm:function(){var e=this;this.$refs["addForm"].validate((function(t){t&&(void 0!=e.form.id?Object(l["e"])(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.reset(),e.getList()})):Object(l["a"])(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.reset(),e.getList()})))}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={},this.resetForm("form")},handleDelete:function(e){var t=this;this.$modal.confirm('是否确认删除名称为"'+e.professerName+'"的专家？').then((function(){return Object(l["b"])(e.id)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},viewEvaluate:function(e){this.title="参与项目",this.queryProjectsParams.professerId=e.id,this.getProjectsList(),this.openJoinProject=!0},getProjectsList:function(){var e=this;this.loadingProjectsList=!0,Object(l["d"])(this.queryProjectsParams).then((function(t){e.projectsList=t.rows,e.projectsTotal=t.total,e.loadingProjectsList=!1}))},handleProjectsQuery:function(){this.queryProjectsParams.pageNum=1,this.getProjectsList()},resetProjectsQuery:function(){this.resetForm("queryProjectsParams"),this.handleProjectsQuery()},validatePhone:function(e,t,r){var o=/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/;if(t){if(!o.test(t))return void r(new Error("手机号码格式不正确"));r()}else r(new Error("手机号码不能为空"))},validateEmail:function(e,t,r){var o=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;if(t){if(!o.test(t))return void r(new Error("电子邮箱格式不正确"));r()}else r(new Error("邮箱不能为空"))},validateAccCard:function(e,t,r){var o=/^.{19}$/,a=/^.{23}$/;t?(o.test(t)||a.test(t)?r():r("银行卡号格式不正确"),r()):r(new Error("请输入银行卡号"))}}},i=s,n=(r("9c9d"),r("2877")),c=Object(n["a"])(i,o,a,!1,null,"fc429e8c",null);t["default"]=c.exports}}]);