(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6167623f"],{1085:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[r("el-row",{attrs:{gutter:50}},[r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"项目编码",prop:"code"}},[r("el-input",{attrs:{placeholder:"未生成",disabled:""},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1)],1),r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"项目名称",prop:"name"}},[r("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),r("el-row",{attrs:{gutter:50}},[r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"项目地点",prop:"region"}},[r("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.regionList,filterable:"",clearable:""},on:{change:e.handleChange},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}})],1)],1),r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"服务类别",prop:"category"}},[r("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.categoryOptions,clearable:"",props:{emitPath:!1},"show-all-levels":!1},model:{value:e.form.category,callback:function(t){e.$set(e.form,"category",t)},expression:"form.category"}})],1)],1)],1),r("el-row",{attrs:{gutter:50}},[r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"工程类型",prop:"projectType"}},[r("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.projectTypeOptions,props:{emitPath:!1},"show-all-levels":!1},model:{value:e.form.projectType,callback:function(t){e.$set(e.form,"projectType",t)},expression:"form.projectType"}})],1)],1),r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"投资额"}},[r("el-input-number",{staticStyle:{width:"100%"},attrs:{precision:2,step:.1,placeholder:"请输入投资额"},model:{value:e.form.investment,callback:function(t){e.$set(e.form,"investment",t)},expression:"form.investment"}})],1)],1)],1),r("el-row",{attrs:{gutter:50}},[r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"合同签订时间"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",placeholder:"选择合同签订时间"},model:{value:e.form.contraceDate,callback:function(t){e.$set(e.form,"contraceDate",t)},expression:"form.contraceDate"}})],1)],1)],1),r("el-row",{attrs:{gutter:50}},[r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"服务开始时间",prop:"serviceStartTime"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择服务开始时间"},model:{value:e.form.serviceStartTime,callback:function(t){e.$set(e.form,"serviceStartTime",t)},expression:"form.serviceStartTime"}})],1)],1),r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"服务结束时间",prop:"serviceEndTime"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择服务结束时间"},model:{value:e.form.serviceEndTime,callback:function(t){e.$set(e.form,"serviceEndTime",t)},expression:"form.serviceEndTime"}})],1)],1)],1),r("el-row",{attrs:{gutter:50}},[r("el-col",{attrs:{span:20}},[r("el-form-item",{attrs:{label:"项目建设内容、规模描述"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入项目建设内容、规模描述",autosize:{minRows:4}},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1)],1),r("el-form-item",{attrs:{label:"中标通知书",prop:"acceptanceFileName"}},[r("el-row",{attrs:{gutter:10}},[r("el-col",{attrs:{span:20}},[r("el-input",{attrs:{placeholder:"请上传中标通知书附件,无附件则需注明原因",disabled:!e.disableAcceptanceFile},model:{value:e.form.acceptanceFileName,callback:function(t){e.$set(e.form,"acceptanceFileName",t)},expression:"form.acceptanceFileName"}})],1),r("el-col",{attrs:{span:4}},[r("el-upload",{ref:"upload",staticClass:"upload-file-uploader",attrs:{action:e.upload.uploadFileUrl,"file-list":e.upload.AcceptanceFileList,"on-error":e.handleUploadError,"on-remove":e.cancelUploadAcceptanceFile,"on-success":e.handleUploadAcceptanceFileSuccess,"show-file-list":!0,headers:e.upload.headers}},[e.disableAcceptanceFile?r("el-button",{attrs:{size:"mini",type:"primary"}},[e._v("选取文件")]):e._e(),e.disableAcceptanceFile?e._e():r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.cancelUploadAcceptanceFile}},[e._v("取消上传")])],1)],1)],1)],1),r("el-form-item",{attrs:{label:"委托函/合同附件",prop:"contractFileName"}},[r("el-row",{attrs:{gutter:10}},[r("el-col",{attrs:{span:20}},[r("el-input",{attrs:{placeholder:"请上传委托函/合同附件,无附件则需注明原因",disabled:!e.disableContractFile},model:{value:e.form.contractFileName,callback:function(t){e.$set(e.form,"contractFileName",t)},expression:"form.contractFileName"}})],1),r("el-col",{attrs:{span:4}},[r("el-upload",{ref:"upload",staticClass:"upload-file-uploader",attrs:{action:e.upload.uploadFileUrl,"file-list":e.upload.ContractFileList,"on-error":e.handleUploadError,"on-remove":e.cancelUploadContractFile,"on-success":e.handleUploadContractFileSuccess,"show-file-list":!0,headers:e.upload.headers}},[e.disableContractFile?r("el-button",{attrs:{size:"mini",type:"primary"}},[e._v("选取文件")]):e._e(),e.disableContractFile?e._e():r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.cancelUploadContractFile}},[e._v("取消上传")])],1)],1)],1)],1),r("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[r("el-collapse-item",{attrs:{name:"1"}},[r("template",{slot:"title"},[r("el-form-item",{attrs:{label:"委托单位",prop:"entrust"}})],1),r("el-row",{attrs:{gutter:50}},[r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"单位名称",prop:"entrust.companyName"}},[r("el-input",{attrs:{placeholder:"请输入单位名称"},model:{value:e.form.entrust.companyName,callback:function(t){e.$set(e.form.entrust,"companyName",t)},expression:"form.entrust.companyName"}})],1)],1),r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"联系人",prop:"entrust.contacts"}},[r("el-input",{attrs:{placeholder:"请输入联系人"},model:{value:e.form.entrust.contacts,callback:function(t){e.$set(e.form.entrust,"contacts",t)},expression:"form.entrust.contacts"}})],1)],1)],1),r("el-row",{attrs:{gutter:50}},[r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"联系电话",prop:"entrust.telephone"}},[r("el-input",{attrs:{placeholder:"请输入联系电话"},model:{value:e.form.entrust.telephone,callback:function(t){e.$set(e.form.entrust,"telephone",t)},expression:"form.entrust.telephone"}})],1)],1),r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"邮箱",prop:"entrust.mail"}},[r("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.form.entrust.mail,callback:function(t){e.$set(e.form.entrust,"mail",t)},expression:"form.entrust.mail"}})],1)],1)],1),r("el-row",{attrs:{gutter:50}},[r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"地址",prop:"entrust.address"}},[r("el-input",{attrs:{placeholder:"请输入地址"},model:{value:e.form.entrust.address,callback:function(t){e.$set(e.form.entrust,"address",t)},expression:"form.entrust.address"}})],1)],1),r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"资金来源",prop:"entrust.funding"}},[r("el-input",{attrs:{placeholder:"请输入资金来源"},model:{value:e.form.entrust.funding,callback:function(t){e.$set(e.form.entrust,"funding",t)},expression:"form.entrust.funding"}})],1)],1)],1)],2),r("el-collapse-item",{attrs:{name:"2"}},[r("template",{slot:"title"},[r("el-form-item",{attrs:{label:"建设单位",prop:"build"}})],1),r("el-row",{attrs:{gutter:50}},[r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"单位名称",prop:"build.companyName"}},[r("el-input",{attrs:{placeholder:"请输入单位名称",disabled:e.isSelectBuildDept},model:{value:e.form.build.companyName,callback:function(t){e.$set(e.form.build,"companyName",t)},expression:"form.build.companyName"}})],1)],1),r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"联系人",prop:"build.contacts"}},[r("el-input",{attrs:{placeholder:"请输入联系人",disabled:e.isSelectBuildDept},model:{value:e.form.build.contacts,callback:function(t){e.$set(e.form.build,"contacts",t)},expression:"form.build.contacts"}})],1)],1)],1),r("el-row",{attrs:{gutter:50}},[r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"联系电话",prop:"build.telephone"}},[r("el-input",{attrs:{placeholder:"请输入联系电话",disabled:e.isSelectBuildDept},model:{value:e.form.build.telephone,callback:function(t){e.$set(e.form.build,"telephone",t)},expression:"form.build.telephone"}})],1)],1),r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"邮箱",prop:"build.mail"}},[r("el-input",{attrs:{placeholder:"请输入邮箱",disabled:e.isSelectBuildDept},model:{value:e.form.build.mail,callback:function(t){e.$set(e.form.build,"mail",t)},expression:"form.build.mail"}})],1)],1)],1)],2),r("el-collapse-item",{attrs:{name:"3"}},[r("template",{slot:"title"},[r("el-form-item",{attrs:{label:"被评审单位",prop:"evaluate"}})],1),r("el-row",{attrs:{gutter:50}},[r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"单位名称",prop:"evaluate.companyName"}},[r("el-input",{attrs:{placeholder:"请输入单位名称",disabled:e.isSelectEvaluateDept},model:{value:e.form.evaluate.companyName,callback:function(t){e.$set(e.form.evaluate,"companyName",t)},expression:"form.evaluate.companyName"}})],1)],1),r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"联系人",prop:"evaluate.contacts"}},[r("el-input",{attrs:{placeholder:"请输入联系人",disabled:e.isSelectEvaluateDept},model:{value:e.form.evaluate.contacts,callback:function(t){e.$set(e.form.evaluate,"contacts",t)},expression:"form.evaluate.contacts"}})],1)],1)],1),r("el-row",{attrs:{gutter:50}},[r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"联系电话",prop:"evaluate.telephone"}},[r("el-input",{attrs:{placeholder:"请输入联系电话",disabled:e.isSelectEvaluateDept},model:{value:e.form.evaluate.telephone,callback:function(t){e.$set(e.form.evaluate,"telephone",t)},expression:"form.evaluate.telephone"}})],1)],1),r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"邮箱",prop:"evaluate.mail"}},[r("el-input",{attrs:{placeholder:"请输入邮箱",disabled:e.isSelectEvaluateDept},model:{value:e.form.evaluate.mail,callback:function(t){e.$set(e.form.evaluate,"mail",t)},expression:"form.evaluate.mail"}})],1)],1)],1)],2),r("el-collapse-item",{attrs:{name:"4"}},[r("template",{slot:"title"},[r("el-form-item",{attrs:{label:"项目服务人员"}})],1),r("el-row",{attrs:{gutter:50}},[r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"项目审核人",prop:"check"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择项目审核人",filterable:"",multiple:"",clearable:""},model:{value:e.form.check,callback:function(t){e.$set(e.form,"check",t)},expression:"form.check"}},e._l(e.getCheckUserList,(function(e){return r("el-option",{key:e.userId,attrs:{label:e.userName,value:e.userId,disabled:e.disabled}})})),1)],1)],1),r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"项目组成员",prop:"member"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择项目组成员",filterable:"",multiple:"",clearable:""},on:{change:e.checkSelectSelf},model:{value:e.form.member,callback:function(t){e.$set(e.form,"member",t)},expression:"form.member"}},e._l(e.getMemberUserList,(function(e){return r("el-option",{key:e.userId,attrs:{label:e.userName,value:e.userId,disabled:e.disabled}})})),1)],1)],1)],1)],2)],1)],1),r("div",{staticClass:"dialog-footer",staticStyle:{display:"block","text-align":"center",width:"83.3%"},attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),r("el-button",{on:{click:e.reset}},[e._v("重 置")]),r("el-button",{on:{click:e.goback}},[e._v("返 回")])],1)],1)},o=[],l=(r("4de4"),r("d3b7"),r("b0c0"),r("159b"),r("7db0"),r("fcb7")),i=r("c0c7"),n=r("5f87"),c=(r("c38a"),r("2934")),s=r("bf97"),u=r("aa3a"),d={name:"ProjectManageForm",dicts:["project_category","project_type"],data:function(){return{deptList:[],loading:!0,showSearch:!0,dateRange:[],activeNames:["1","2","3","4"],queryParams:{pageNum:1,pageSize:10,editDept:void 0,createBy:void 0,status:void 0,name:void 0},userList:[],upload:{baseUrl:"/prod-api",uploadFileUrl:"/prod-api/common/upload",headers:{Authorization:"Bearer "+Object(n["a"])()},ContractFileList:[],AcceptanceFileList:[]},total:0,projectList:[],regionList:[],title:"",open:!1,disableContractFile:!0,disableAcceptanceFile:!0,isExpandAll:!1,categoryOptions:[],projectTypeOptions:[],form:{id:void 0,name:void 0,code:void 0,region:void 0,province:void 0,city:void 0,area:void 0,category:void 0,entrust:{companyName:void 0,contacts:void 0,telephone:void 0,mail:void 0,address:void 0,funding:void 0},entrustDept:void 0,build:{companyName:void 0,contacts:void 0,telephone:void 0,mail:void 0},buildDept:void 0,evaluate:{companyName:void 0,contacts:void 0,telephone:void 0,mail:void 0},evaluateDept:void 0,projectType:void 0,investment:void 0,description:void 0,acceptanceFile:void 0,acceptanceFileName:void 0,contractFile:void 0,contractFileName:void 0,contraceDate:void 0,serviceStartTime:void 0,serviceEndTime:void 0,check:[],member:[]},resetForm:{id:void 0,name:void 0,code:void 0,region:void 0,province:void 0,city:void 0,area:void 0,category:void 0,entrust:{companyName:void 0,contacts:void 0,telephone:void 0,mail:void 0,address:void 0,funding:void 0},entrustDept:void 0,build:{companyName:void 0,contacts:void 0,telephone:void 0,mail:void 0},buildDept:void 0,evaluate:{companyName:void 0,contacts:void 0,telephone:void 0,mail:void 0},evaluateDept:void 0,projectType:void 0,investment:void 0,description:void 0,acceptanceFile:void 0,acceptanceFileName:void 0,contractFile:void 0,contractFileName:void 0,contraceDate:void 0,serviceStartTime:void 0,serviceEndTime:void 0,check:[],member:[]},rules:{name:[{required:!0,message:"项目名称不能为空",trigger:"blur"}],region:[{required:!0,message:"项目地点不能为空",trigger:"blur"}],category:[{required:!0,message:"服务类别不能为空",trigger:"blur"}],serviceStartTime:[{required:!0,message:"服务开始时间不能为空",trigger:"blur"}],"entrust.companyName":[{required:!0,message:"委托单位名称不能为空",trigger:"blur"}],"entrust.contacts":[{required:!0,message:"委托单位联系人不能为空",trigger:"blur"}],"entrust.telephone":[{required:!0,message:"委托单位联系电话不能为空",trigger:"blur"},{required:!0,message:"委托单位联系电话格式有误",pattern:/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/}],"entrust.mail":[{required:!0,message:"委托单位邮箱不能为空",trigger:"blur"},{required:!0,message:"委托单位邮箱格式有误",pattern:/^\w+@[\da-z\.-]+\.([a-z]{2,6}|[\u2E80-\u9FFF]{2,3})$/}],"build.telephone":[{required:!1,message:"建设单位联系电话格式有误",pattern:/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/}],"build.mail":[{required:!1,message:"建设单位邮箱格式有误",pattern:/^\w+@[\da-z\.-]+\.([a-z]{2,6}|[\u2E80-\u9FFF]{2,3})$/}],"evaluate.telephone":[{required:!1,message:"被评审单位联系电话格式有误",pattern:/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/}],"evaluate.mail":[{required:!1,message:"被评审单位邮箱格式有误",pattern:/^\w+@[\da-z\.-]+\.([a-z]{2,6}|[\u2E80-\u9FFF]{2,3})$/}],projectType:[{required:!0,message:"工程类型不能为空",trigger:"blur"}],acceptanceFileName:[{required:!0,message:"中标通知书不能为空",trigger:"blur"}],contractFileName:[{required:!0,message:"委托函/合同附件不能为空",trigger:"blur"}],check:[{required:!0,message:"审批人不能为空",trigger:"blur"}]}}},computed:{isSelectBuildDept:function(){var e=void 0!=this.form.category&&0===this.form.category.indexOf("2");return e&&(this.form.build={companyName:void 0,contacts:void 0,telephone:void 0,mail:void 0}),e},isSelectEvaluateDept:function(){var e=void 0!=this.form.category&&0===this.form.category.indexOf("2");return e&&(this.form.evaluate={companyName:void 0,contacts:void 0,telephone:void 0,mail:void 0}),e},getCheckUserList:function(){var e=this,t=this.$store.state.user;return this.userList.filter((function(r){return r.userName!=t.name&&-1==e.form.member.indexOf(r.userId)}))},getMemberUserList:function(){var e=this;return this.userList.filter((function(t){return-1==e.form.check.indexOf(t.userId)}))}},created:function(){this.getListDept(),this.getListRegions(),this.getProject(),this.getUserList(),this.getCategoryOptions(),this.getProjectType()},methods:{getListDept:function(){var e=this;Object(l["d"])().then((function(t){e.deptList=t.data}))},getUserList:function(){var e=this,t=this.$store.state.user;Object(i["g"])([1,3]).then((function(r){var a=r.data;a.forEach((function(r){r.userName!=t.name&&"admin"!=r.userName||(r.disabled=!0,r.userName==t.name&&e.form.member.push(r.userId))})),e.userList=a}))},getProject:function(){var e=this,t=this.$route.query.id;this.form.id=t,void 0!=t&&0!=t&&Object(s["g"])(t).then((function(t){var r=t.project;e.form=t.project,e.form.region=[r.province,r.city,r.area],e.dateRange=[r.serviceStartTime,r.serviceEndTime],void 0!=r.acceptanceFile&&null!=r.acceptanceFile&&""!=r.acceptanceFile&&(e.upload.AcceptanceFileList.push({name:r.acceptanceFileName,url:r.acceptanceFile}),e.disableAcceptanceFile=!1),void 0!=r.contractFile&&null!=r.contractFile&&""!=r.contractFile&&(e.upload.ContractFileList.push({name:r.contractFileName,url:r.contractFile}),e.disableContractFile=!1)}))},getCategoryOptions:function(){var e=this;Object(u["d"])("project_category").then((function(t){var r=t.data,a={label:"评估类",value:"1",children:[]},o={label:"编制类",value:"2",children:[]};r.forEach((function(e){0==e.dictValue.indexOf("1")?a.children.push({label:e.dictLabel,value:e.dictValue}):0==e.dictValue.indexOf("2")&&o.children.push({label:e.dictLabel,value:e.dictValue})})),e.categoryOptions.push(a),e.categoryOptions.push(o)}))},getProjectType:function(){var e=this;Object(u["d"])("project_type").then((function(t){var r=t.data,a=[];r.forEach((function(e){isNaN(e.dictValue)||a.push({label:e.dictLabel,value:e.dictValue})}));var o=r.filter((function(e){return isNaN(e.dictValue)}));a.forEach((function(e){var t=o.filter((function(t){return 0==t.dictValue.indexOf(e.value)}));t.length>0&&(e.children=[],t.forEach((function(t){e.children.push({label:t.dictLabel,value:t.dictValue})})))})),e.projectTypeOptions=a}))},handleChange:function(e){console.log(e)},getListRegions:function(){var e=this;Object(c["a"])().then((function(t){e.regionList=t.data}))},reset:function(){void 0!=this.form.id&&0!=this.form.id?this.getProject():(this.form=this.resetForm,this.dateRange=[],this.disableAcceptanceFile=!0,this.disableContractFile=!0)},checkSelectSelf:function(){var e=this.$store.state.user,t=this.userList.find((function(t){return t.userName==e.name}));console.log(this.form.member,"this.form.member"),console.log(t,"self"),-1==this.form.member.indexOf(t.userId)&&this.form.member.push(t.userId)},handleUploadError:function(){this.$message.error("文件上传失败, 请重试")},handleUploadAcceptanceFileSuccess:function(e){this.upload.AcceptanceFileList[0]={name:e.newFileName,url:e.url},this.form.acceptanceFile=e.url,this.form.acceptanceFileName=e.originalFilename,this.disableAcceptanceFile=!1},handleUploadContractFileSuccess:function(e){this.upload.ContractFileList[0]={name:e.originalFilename,url:e.url},this.form.contractFile=e.url,this.form.contractFileName=e.originalFilename,this.disableContractFile=!1},cancelUploadAcceptanceFile:function(){this.disableAcceptanceFile=!0,this.upload.AcceptanceFileList=[],this.form.acceptanceFile="",this.form.acceptanceFileName=""},cancelUploadContractFile:function(){this.disableContractFile=!0,this.upload.ContractFileList=[],this.form.contractFile="",this.form.contractFileName=""},submitForm:function(){var e=this;this.$modal.confirm("是否确定提交?").then((function(){return void 0==e.form.serviceStartTime||null==e.form.serviceStartTime?e.$message.error("请选择服务期开始时间"):void 0!=e.form.serviceEndTime&&null!=e.form.serviceEndTime&&e.form.serviceEndTime<=e.form.serviceStartTime?e.$message.error("服务期结束时间必须大于开始时间"):(void 0!=e.form.region&&e.form.region.length>0&&(e.form.province=e.form.region[0],e.form.city=e.form.region[1],e.form.area=e.form.region[2]),void 0!=e.form.entrust.companyName&&(e.form.entrustDept=e.form.entrust.companyName),void 0!=e.form.build.companyName&&(e.form.buildDept=e.form.build.companyName),void 0!=e.form.evaluate.companyName&&(e.form.evaluateDept=e.form.evaluate.companyName),void e.$refs["form"].validate((function(t){if(t)void 0!=e.form.id?Object(s["n"])(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.$store.dispatch("tagsView/delView",e.$route),e.$router.push("/projectManager/projectManager")})):Object(s["b"])(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.$store.dispatch("tagsView/delView",e.$route),e.$router.push("/projectManager/projectManager")}));else{var r=document.querySelectorAll("el-form-item__error");r.scrollIntoView({behavior:"smooth",block:"center"})}})))})).then((function(){})).catch((function(){}))},submitFileForm:function(){Object(c["b"])()},goback:function(){var e=this;this.$modal.confirm("是否确定返回?").then((function(){e.$store.dispatch("tagsView/delView",e.$route),e.$router.push("/projectManager/projectManager")}))}}},m=d,p=(r("c633"),r("2877")),f=Object(p["a"])(m,a,o,!1,null,null,null);t["default"]=f.exports},2934:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return l}));var a=r("b775");function o(e){return Object(a["a"])({url:"/common/upload",method:"post",data:e})}function l(){return Object(a["a"])({url:"/common/listRegions",method:"get"})}},"3e73":function(e,t,r){},bf97:function(e,t,r){"use strict";r.d(t,"j",(function(){return o})),r.d(t,"k",(function(){return l})),r.d(t,"g",(function(){return i})),r.d(t,"i",(function(){return n})),r.d(t,"b",(function(){return c})),r.d(t,"n",(function(){return s})),r.d(t,"c",(function(){return u})),r.d(t,"e",(function(){return d})),r.d(t,"o",(function(){return m})),r.d(t,"l",(function(){return p}));var a=r("b775");function o(e){return Object(a["a"])({url:"/project/pageList",method:"get",params:e})}function l(){return Object(a["a"])({url:"/project/listRunning",method:"get"})}function i(e){return Object(a["a"])({url:"/project/getById/"+e,method:"get"})}function n(e){return Object(a["a"])({url:"/project/queryByName?query="+e,method:"get"})}function c(e){return Object(a["a"])({url:"/project/add",method:"post",data:e})}function s(e){return Object(a["a"])({url:"/project/update",method:"put",data:e})}function u(e){return Object(a["a"])({url:"/project/check",method:"post",data:e})}function d(e){return Object(a["a"])({url:"/project/deleteById?id="+e,method:"delete"})}function m(e,t){return Object(a["a"])({url:"/project/updateStatus/"+e+"/"+t,method:"get"})}function p(e){return Object(a["a"])({url:"/project/selectUserByProjectId/"+e,method:"get"})}},c0c7:function(e,t,r){"use strict";r.d(t,"h",(function(){return l})),r.d(t,"e",(function(){return i})),r.d(t,"g",(function(){return n})),r.d(t,"a",(function(){return c})),r.d(t,"k",(function(){return s})),r.d(t,"c",(function(){return u})),r.d(t,"i",(function(){return d})),r.d(t,"b",(function(){return m})),r.d(t,"f",(function(){return p})),r.d(t,"l",(function(){return f})),r.d(t,"m",(function(){return b})),r.d(t,"n",(function(){return v})),r.d(t,"d",(function(){return h})),r.d(t,"j",(function(){return g}));var a=r("b775"),o=r("c38a");function l(e){return Object(a["a"])({url:"/system/user/list",method:"get",params:e})}function i(e){return Object(a["a"])({url:"/system/user/"+Object(o["e"])(e),method:"get"})}function n(e){return Object(a["a"])({url:"/system/user/listByRole/"+e,method:"get"})}function c(e){return Object(a["a"])({url:"/system/user",method:"post",data:e})}function s(e){return Object(a["a"])({url:"/system/user",method:"put",data:e})}function u(e){return Object(a["a"])({url:"/system/user/"+e,method:"delete"})}function d(e,t){var r={userId:e,password:t};return Object(a["a"])({url:"/system/user/resetPwd",method:"put",data:r})}function m(e,t){var r={userId:e,status:t};return Object(a["a"])({url:"/system/user/changeStatus",method:"put",data:r})}function p(){return Object(a["a"])({url:"/system/user/profile",method:"get"})}function f(e){return Object(a["a"])({url:"/system/user/profile",method:"put",data:e})}function b(e,t){var r={oldPassword:e,newPassword:t};return Object(a["a"])({url:"/system/user/profile/updatePwd",method:"put",params:r})}function v(e){return Object(a["a"])({url:"/system/user/profile/avatar",method:"post",data:e})}function h(e){return Object(a["a"])({url:"/system/user/authRole/"+e,method:"get"})}function g(e){return Object(a["a"])({url:"/system/user/authRole",method:"put",params:e})}},c633:function(e,t,r){"use strict";r("3e73")},fcb7:function(e,t,r){"use strict";r.d(t,"d",(function(){return o})),r.d(t,"e",(function(){return l})),r.d(t,"c",(function(){return i})),r.d(t,"g",(function(){return n})),r.d(t,"f",(function(){return c})),r.d(t,"a",(function(){return s})),r.d(t,"h",(function(){return u})),r.d(t,"b",(function(){return d}));var a=r("b775");function o(e){return Object(a["a"])({url:"/system/dept/list",method:"get",params:e})}function l(e){return Object(a["a"])({url:"/system/dept/list/exclude/"+e,method:"get"})}function i(e){return Object(a["a"])({url:"/system/dept/"+e,method:"get"})}function n(){return Object(a["a"])({url:"/system/dept/treeselect",method:"get"})}function c(e){return Object(a["a"])({url:"/system/dept/roleDeptTreeselect/"+e,method:"get"})}function s(e){return Object(a["a"])({url:"/system/dept",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/system/dept",method:"put",data:e})}function d(e){return Object(a["a"])({url:"/system/dept/"+e,method:"delete"})}}}]);